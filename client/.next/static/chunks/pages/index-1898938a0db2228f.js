(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1344)}])},1344:function(e,s,n){"use strict";n.r(s),n.d(s,{__N_SSG:function(){return x},default:function(){return U}});var r=n(5893),t=n(2069),o=n(8846);let i=new t.f({uri:"http://localhost:4000/graphql",cache:new o.h});var a=n(3768),l=n(7297),c=n(7294),_=n(7018),u=n.n(_),d=n(7283),f=n(5850);let h=e=>{let{user:s}=e;return(0,r.jsx)("div",{className:u().grid,children:s.map((e,s)=>(0,r.jsxs)("div",{className:u().card,children:[(0,r.jsx)("h3",{children:e.name}),(0,r.jsxs)("p",{children:["Phone: ",e.phone]}),(0,r.jsxs)("p",{children:["Address: ",e.address]}),(0,r.jsxs)("p",{children:["Email: ",e.email]})]},s))})};function m(){let e=(0,l.Z)(["\n    query Users ($limit: Int!, $offset: Int!) {\n        users(limit: $limit, offset: $offset) {\n          name\n          address\n          email\n          phone\n        }\n      }\n  "]);return m=function(){return e},e}let p=e=>{let{userslist:s}=e,[n,t]=(0,c.useState)(s),[o,i]=(0,c.useState)(!1),[a,l]=(0,c.useState)(0),_=(0,d.Ps)(m()),{data:p,fetchMore:x}=(0,f.a)(_,{variables:{limit:20,offset:a}});p&&o&&(i(!1),t(n.concat(p.users)));let U=()=>{console.log("handleLoadMore"),i(!0),l(a+20);try{x({variables:{limit:20,offset:a}})}catch(e){console.log("Error! ".concat(e.message))}};return(0,r.jsx)("div",{className:u().container,children:(0,r.jsxs)("main",{className:u().main,children:[(0,r.jsx)(h,{user:n}),(0,r.jsx)("button",{className:u().load_more_button,onClick:U,children:"Load more"})]})})};var x=!0;function U(e){let{users:s}=e;return(0,r.jsx)(a.e,{client:i,children:(0,r.jsx)(p,{userslist:s})})}},7018:function(e){e.exports={container:"Users_container__seDVK",main:"Users_main__9ui9x",footer:"Users_footer__F6UFA",title:"Users_title__WwuV0",description:"Users_description__K4_Y6",code:"Users_code__OWgnG",grid:"Users_grid__wIG4E",card:"Users_card__sU8Wz",logo:"Users_logo__ot2QE",load_more_button:"Users_load_more_button__PUgYQ"}}},function(e){e.O(0,[349,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);